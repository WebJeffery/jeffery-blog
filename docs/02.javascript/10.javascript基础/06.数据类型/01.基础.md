---
title: 数据类型基础
date: 2020-12-29 10:27:01
permalink: /pages/aac3errwdasweew
author: 
  name: jeffery
categories: 
  - javascript
tags: 
  - javascript
---

# 数据类型基础

## 数据类型系统

`javascript` 拥有强大的类型系统，主要包括原生对象、宿主对象和浏览器拓展对象



![](https://gitee.com/FIF/pic-beg/raw/master/images/javascript/JS_ECMA_grammer_typesOverview.jpg)


原生对象分为两类：原始类型(primitive type)和对象类型(object type)。

原始类型又分为两类：
- 空值，`undefined` 和 `null`。逻辑上，`undefined` 表示原始类型的空值，`null`表示对象类型的空值
- 包装对象；`string` 字符串、`number` 数字、`boolean` 布尔值是原始类型，也是包装类型，可以调用属性和方法


对象类型也可以分为两类：
- 构造器对象：包括对象 `Object`、函数 `Function`、日期 `Date`、数组 `Array`、错误 `Error`、正则`RegExp`
- 单体内置对象：`JSON`, `Math`, `arguments`, 全局对象


## 原始值和复杂值

上面提到，`javascript` 的数据类型可以分为两种：原始类型和引用类型。`javascript`基本数据类型包括`Undefined`、`Null`、`Boolean`、`Number`、`String`，ES6 新增了 `Symbol`、`BigInt` 共7种，而引用类型也称为复杂类型，在 `javascript` 中是 `Object`

### 原始值 vs 复杂值

**存储方式**

- 栈存储

因为原始值占据固定大小空间，是简单的数据段，为了便于提升变量查询速度，将其存储在栈(stack)中

- 堆存储

由于复杂值的大小会改变，所以不能将其存放在栈中，否则会降低变量查询速度，因此其存储在堆(heap)中，存储在变量处的值是一个指针，指向存储对象的内存处

**访问方式**

- 按值访问

原始值是作为不可细化的值进行存储和操作的，引用它们会转移其值

```js
var myString = 'foo';
var myStringCopy = myString;
var myString = null;
console.log(myString,myStringCopy);//null,'foo'
```

- 引用访问

复杂值是通过引用进行存储和操作的，而不是实际的值。创建一个包含复杂对象的变量时，其值是内存中的一个引用地址。引用一个复杂对象时，使用它的名称(即变量或对象属性)通过内存中的引用地址获取该对象值

```js
var myObject = {};
var copyOfMyObject = myObject;//没有复制值，而是复制了引用
myObject.foo = 'bar';//操作myObject中的值
//现在如果输出myObject和copyOfMyObject，则都会输出foo属性，因为它们引用的是同一个对象
console.log(myObject,copyOfMyObject);//Object{foo="bar"}
```

**比较方式**

原始值采用值比较，而复杂值采用引用比较。复杂值只有在引用相同的对象(即有相同的地址)时才相等。即使是包含相同对象的两个变量也彼此不相等，因为它们并不指向同一个对象

```js
var price1 = 10;
var price2 = 10;
var price3 = new Number('10');
var price4 = price3;
console.log(price1 == price2);//true
console.log(price1 == price3);//true

var objectFoo = {same:'same'};
var objectBar = {same:'same'};
console.log(objectFoo == objectBar);//false
var objectA = {foo: 'bar'};
var objectB = objectA;
console.log(objectA == objectB);//true
```

**动态属性**

对于复杂值，可以为其添加属性和方法，也可以改变和删除其属性和方法；但简单值不可以添加属性和方法

```js
var str = 'test';
str.property = true;
console.log(str.property);//undefined　

```